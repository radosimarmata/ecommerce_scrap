import requests
import json

url = "https://gql.tokopedia.com/graphql/PDPMainInfo"

payload = json.dumps([
  {
    "operationName": "PDPMainInfo",
    "variables": {
      "productKey": "huawei-matepad-se-11-tablet-4-128gb-fhd-eye-comfort-display-7700mah-metal-unibody-grey-78825",
      "shopDomain": "huawei",
      "layoutID": "",
      "extraPayload": "",
      "queryParam": "",
      "source": "P1",
      "userLocation": {
        "addressID": "65890130",
        "districtID": "2229",
        "postalCode": "16424",
        "latlon": "-6.36489249554293,106.83759793639183",
        "cityID": "171"
      }
    },
    "query": "fragment ProductMedia on pdpDataProductMedia {\n  media {\n    type\n    urlOriginal: URLOriginal\n    urlThumbnail: URLThumbnail\n    urlMaxRes: URLMaxRes\n    videoUrl: videoURLAndroid\n    prefix\n    suffix\n    description\n    variantOptionID\n    __typename\n  }\n  videos {\n    source\n    url\n    __typename\n  }\n  __typename\n}\n\nfragment ProductHighlight on pdpDataProductContent {\n  name\n  price {\n    value\n    currency\n    priceFmt\n    slashPriceFmt\n    discPercentage\n    __typename\n  }\n  campaign {\n    campaignID\n    campaignType\n    campaignTypeName\n    campaignIdentifier\n    background\n    percentageAmount\n    originalPrice\n    discountedPrice\n    originalStock\n    stock\n    stockSoldPercentage\n    threshold\n    startDate\n    endDate\n    endDateUnix\n    appLinks\n    isAppsOnly\n    isActive\n    hideGimmick\n    showStockBar\n    __typename\n  }\n  thematicCampaign {\n    additionalInfo\n    background\n    campaignName\n    icon\n    __typename\n  }\n  stock {\n    useStock\n    value\n    stockWording\n    __typename\n  }\n  variant {\n    isVariant\n    parentID\n    __typename\n  }\n  wholesale {\n    minQty\n    price {\n      value\n      currency\n      __typename\n    }\n    __typename\n  }\n  isCashback {\n    percentage\n    __typename\n  }\n  isTradeIn\n  isOS\n  isPowerMerchant\n  isWishlist\n  isCOD\n  preorder {\n    duration\n    timeUnit\n    isActive\n    preorderInDays\n    __typename\n  }\n  __typename\n}\n\nfragment ProductInfo on pdpDataProductInfo {\n  row\n  content {\n    title\n    subtitle\n    applink\n    __typename\n  }\n  __typename\n}\n\nfragment ProductDetail on pdpDataProductDetail {\n  title\n  productDetailDescription {\n    title\n    content\n    __typename\n  }\n  content {\n    title\n    subtitle\n    applink\n    showAtFront\n    isAnnotation\n    __typename\n  }\n  __typename\n}\n\nfragment ProductSocial on pdpDataSocialProof {\n  row\n  content {\n    icon\n    title\n    subtitle\n    applink\n    type\n    rating\n    __typename\n  }\n  __typename\n}\n\nfragment ProductDataInfo on pdpDataInfo {\n  icon\n  title\n  isApplink\n  applink\n  content {\n    icon\n    text\n    __typename\n  }\n  __typename\n}\n\nfragment ProductCustomInfo on pdpDataCustomInfo {\n  icon\n  title\n  isApplink\n  applink\n  separator\n  description\n  __typename\n}\n\nfragment ProductVariant on pdpDataProductVariant {\n  errorCode\n  parentID\n  defaultChild\n  sizeChart\n  totalStockFmt\n  variants {\n    productVariantID\n    variantID\n    name\n    identifier\n    option {\n      picture {\n        urlOriginal: url\n        urlThumbnail: url100\n        __typename\n      }\n      productVariantOptionID\n      variantUnitValueID\n      value\n      hex\n      stock\n      __typename\n    }\n    __typename\n  }\n  children {\n    productID\n    price\n    priceFmt\n    slashPriceFmt\n    discPercentage\n    optionID\n    optionName\n    productName\n    productURL\n    picture {\n      urlOriginal: url\n      urlThumbnail: url100\n      __typename\n    }\n    stock {\n      stock\n      isBuyable\n      stockWordingHTML\n      minimumOrder\n      maximumOrder\n      __typename\n    }\n    isCOD\n    isWishlist\n    campaignInfo {\n      campaignID\n      campaignType\n      campaignTypeName\n      campaignIdentifier\n      background\n      discountPercentage\n      originalPrice\n      discountPrice\n      stock\n      stockSoldPercentage\n      startDate\n      endDate\n      endDateUnix\n      appLinks\n      isAppsOnly\n      isActive\n      hideGimmick\n      isCheckImei\n      minOrder\n      showStockBar\n      __typename\n    }\n    thematicCampaign {\n      additionalInfo\n      background\n      campaignName\n      icon\n      __typename\n    }\n    ttsPID\n    ttsSKUID\n    __typename\n  }\n  __typename\n}\n\nfragment ProductCategoryCarousel on pdpDataCategoryCarousel {\n  linkText\n  titleCarousel\n  applink\n  list {\n    categoryID\n    icon\n    title\n    isApplink\n    applink\n    __typename\n  }\n  __typename\n}\n\nfragment ProductDetailMediaComponent on pdpDataProductDetailMediaComponent {\n  title\n  description\n  contentMedia {\n    url\n    ratio\n    type\n    __typename\n  }\n  show\n  ctaText\n  __typename\n}\n\nfragment PdpDataComponentShipmentV4 on pdpDataComponentShipmentV4 {\n  data {\n    productID\n    warehouse_info {\n      warehouse_id\n      is_fulfillment\n      district_id\n      postal_code\n      geolocation\n      city_name\n      ttsWarehouseID\n      __typename\n    }\n    useBOVoucher\n    isCOD\n    metadata\n    __typename\n  }\n  __typename\n}\n\nquery PDPMainInfo($productKey: String, $shopDomain: String, $layoutID: String, $extraPayload: String, $queryParam: String, $source: String, $userLocation: pdpUserLocation) {\n  pdpMainInfo(shopDomain: $shopDomain, productKey: $productKey, layoutID: $layoutID, extraPayload: $extraPayload, queryParam: $queryParam, source: $source, userLocation: $userLocation) {\n    requestID\n    extraPayload\n    data {\n      layoutName\n      basicInfo {\n        alias\n        createdAt\n        isQA\n        id: productID\n        shopID\n        shopName\n        minOrder\n        maxOrder\n        weight\n        weightUnit\n        condition\n        status\n        url\n        needPrescription\n        catalogID\n        isLeasing\n        isBlacklisted\n        isTokoNow\n        defaultMediaURL\n        menu {\n          id\n          name\n          url\n          __typename\n        }\n        blacklistMessage {\n          imageURL\n          title\n          description\n          button\n          url\n          supportingImage {\n            url\n            width\n            height\n            __typename\n          }\n          __typename\n        }\n        category {\n          id\n          name\n          title\n          breadcrumbURL\n          isAdult\n          isKyc\n          minAge\n          detail {\n            id\n            name\n            breadcrumbURL\n            isAdult\n            __typename\n          }\n          ttsID\n          ttsDetail {\n            id\n            name\n            breadcrumbURL\n            isAdult\n            __typename\n          }\n          __typename\n        }\n        txStats {\n          transactionSuccess\n          transactionReject\n          countSold\n          paymentVerified\n          itemSoldFmt\n          __typename\n        }\n        stats {\n          countView\n          countReview\n          countTalk\n          rating\n          __typename\n        }\n        productID\n        ttsPID\n        ttsSKUID\n        ttsShopID\n        isAggregatedWithTTS\n        __typename\n      }\n      __typename\n    }\n    components {\n      name\n      type\n      kind\n      position\n      data {\n        ...ProductMedia\n        ...ProductHighlight\n        ...ProductInfo\n        ...ProductDetail\n        ...ProductSocial\n        ...ProductDataInfo\n        ...ProductCustomInfo\n        ...ProductVariant\n        ...ProductCategoryCarousel\n        ...ProductDetailMediaComponent\n        ...PdpDataComponentShipmentV4\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n"
  }
])
headers = {
  'sec-ch-ua-platform': '"Windows"',
  'sec-ch-ua': '"Not(A:Brand";v="8", "Chromium";v="144", "Microsoft Edge";v="144"',
  'x-price-center': 'true',
  'sec-ch-ua-mobile': '?0',
  'bd-device-id': '7551231407868626448',
  'x-tkpd-akamai': 'pdpMainInfo',
  'accept': '*/*',
  'content-type': 'application/json',
  'x-date': 'Mon, 02 Feb 2026 16:57:00 +0700',
  'x-tkpd-pdpb': '0',
  'x-version': '1aca87b',
  'Referer': 'https://www.tokopedia.com/',
  'x-source': 'tokopedia-lite',
  'x-device': 'desktop',
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0',
  'x-tkpd-lite-service': 'zeus',
  'Cookie': '_UUID_NONLOGIN_=88c8a566299c89beeea9bf3dfb102ed3; _UUID_NONLOGIN_.sig=0Fg1faGa8cnK7aFfeN7vldBsIaE; _abck=9709B2B8C68CDB9AEBCC93D8C3318E0B~-1~YAAQzVA7F3KPxvybAQAA59mpHQ/zanBz9z7rzDL/YvJ+kyjfVOVpnOxaQ+UYlQs8W0jvMqrFa/Mct6rIRe7TwuXNQDdfcddNY+ZSMbe09FP9s0jpczXdEVoVKO2bLDQSasSZ8nfXKe8c3l3NWViJARRlj9PNoyuA/9iywPyfCMFDrkwy+sNQmFOSQH1FaxKT1OUuROHdX4RQPdayKieGw1voMupnnKThzpa6mecXA6kNANrdQigYug3rvfHPICfI7QTU+p+/yaBdSdcHGBTXRaWpffQYTFL1oL2WmGw1g4fCD9ZUF83ti/onQZgcHHjF9Y2CaQl1jp2cThfpl2VwELtH16L7YnDp9zJFLZnPEDBAqWhw4h2pnLVCTLq9ZanMn/tDtWVBDV2T27qsP7wvQzjv01exWjacergpaituJGu8yhhoGE9MsfV4QOIZp/Q/H5t/Ami3GmKEttTh~-1~-1~-1~-1~-1; ak_bmsc=65318D348F44BF40E306F57ADC9C64FD~000000000000000000000000000000~YAAQm4M0F+2vkgWcAQAABuupHR7P4lEiTZvHPrOR0arO12K+r2MDGFKaRKc1K9mo5ydh3+5fDct9fACRjAHqUH85/jxaq5EN9DpkSnDQpxuxoinEQha0FZ6gYovs8e2wKjXJwp5VN4wDVW919bzki5fZZTLPFz6H6idScsGxYpNXxnZYijSEsIF9Kv5i9ymJfMsARvVW9Eh0WJglA/LNBD6v+wodDUucp7j1FE5CGNzKD3y1BsxPUUE2iqMf0F6kZ40WY+2H8voeSkve6kaDoQ61yYtnqFTBpiYjF0uPbfoR3v1H0snZzf1Rxs7eHkqJpg/w/5yg7WS251hQAfok+hMk9foOiaf7KVlZLlTq4oldB7/dWz4tzOu1i7g=; bm_mi=D642BCD5A998AECA811C5D408BE64C86~YAAQm4M0F+6vkgWcAQAABuupHR7fgQ+tRvbbMMkRZEQmjaVZ5jeNyugcPW5JbdHboUr0JXAH9QtOiT1K9V7AcmT/h4ocvDL5Ga4Kbw8fZ8pQDs2O3J9RbGBTeZB2Gn65G4dYnr9LwE3QTvSEiR78/jV41cLItNAI2uQalf/OLSsi7mVY+06Oca2E2bnk1LaTlMebTBdYYOoekLpBAjP2O6hzG9+odXuOKXrh98PnWTThJPlrl2MDEvAzWMHdUjM1KnsxlWOpH2u8tvWziLpJdPenG4J63GwbDSh+A86ZWxbuqUslwOM0fpBsbpCnE6dzrjIf0IR6f1Cdn/L00WP+RBreRcUgeZE2Tj/5lDoTvyHeeR9g3FqjABou1tHd03UxogEEv9ojC05cE+aZgl/HD0PBmCRsS5apWvoqsXWaKRoIjpeFdw8Nhj0f625pb4d6OYYqD2mXVl5e7QeKqAaG0wNEJbG6jh1P7HNrNnKHX5rQTm08~1; bm_sz=8ED86749F982E96381EFD3F2CF48F97D~YAAQzVA7F3SPxvybAQAA59mpHR7iQtRBErDXbze0tl7w/GKDOnBmZEK+TXHJpk1hdAIbARM4pTkEZxL/CP4rn8wFh52FYmyWMTWRzvsBDJjgi70T+baCe5tOfiuJeXLKktIgFaS+IIwrI2LlZxMYNBGdRO6gOyVt1upiJV70KFw5ZxplzFy6vAcPA+qKxp7A/ltzRGeCOBJ3brKboY+x3PJ5O8URShXDY/CrIG2NrsjXy1XdpiDO9rt8jbO/OF47dEqtimvq0fP1D8D8v0fIGsPwZGUyx3jB7e7unmIIezb0Faxfo3kZPN2JIckwvNmFtPsH0K5I2inxyJEVgw4CtcO34/dp7AVmD/Xm7uyB74A=~4404530~4474169'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
